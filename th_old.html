<!DOCTYPE html>
<head>
<!-- Credit: nuttanon211211  [at]  github.com-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CVD Risk Color Chart</title>
<style>
p.terminal {
  background-color: forestgreen;
  color: white;
  border: 6px solid forestgreen;
  border-radius: 5px;
  }
p.terminal1 {
  background-color: chartreuse;
  color: black;
  border: 6px solid chartreuse;
  border-radius: 5px;
  }
p.terminal2 {
  background-color: yellow;
  color: black;
  border: 6px solid yellow;
  border-radius: 5px;
  }
p.terminal3 {
  background-color: darkorange;
  color: black;
  border: 6px solid darkorange;
  border-radius: 5px;
  }
p.terminal4 {
  background-color: red;
  color: white;
  border: 6px solid red;
  border-radius: 5px;
  }
p.terminal5 {
  background-color: darkred;
  color: white;
  border: 6px solid darkred;
  border-radius: 5px;
  }
p.terminale {
  background-color: lightgray;
  color: black;
  border: 6px solid lightgray;
  border-radius: 5px;
  }
img.hide {
  visibility: hidden;
  position: absolute;
}

img.show {
  visibility: visible;
  max-width: 100%;
}
button[type=button] {
  background-color: mintcream;
  color: black;
  border: 2px solid forestgreen;
  border-radius: 8px;
  font-weight: bold;
  padding: 10px 20px;
  text-align: center;
  display: inline-block;
  text-decoration: none;
}
button[type=button]:hover, button[type=button]:active {
  background-color: forestgreen;
  color:white;
}
button[type=button].mini {
  background-color: mintcream;
  color: gray;
  border: 1px dotted gray;
  border-radius: 8px;
  font-weight: normal;
  padding: 0px 0px;
  text-align: center;
  position: absolute;
  right: 5%;
  text-decoration: none;

}
.tooltip {
  position: relative;
  display: inline-block;
  border-bottom: 1px dotted black;
}

.tooltip .tooltiptext {
  visibility: hidden;
  position: absolute;
  color: white;
  background-color: #555;
  z-index: 1;
  border-radius: 6px;
  padding: 5px 0;
  width: 240px;
  top: 0%;
  left: 0%;
  margin-left: 0px;
  text-align: center;
  opacity: 0;
  transition: opacity 0.3s;
}

.tooltip .tooltiptext:after {
  content: "";
  position: absolute;
  top: 10%;
  left: 0%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: #555 transparent transparent transparent;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
  opacity: 1;
}

</style>
</head>
<body>
<img src="logo.png" id="logo" class="hide"></img>
<p class="terminal" id="out">แอปประเมินความเสี่ยงโรคหัวใจ (WHO SEA 2019) ; ผลลัพธ์จะแสดงที่นี่</p>

<label>เพศ:</label>&ensp;&ensp;
<button type="button" id="logobutton" class="mini" onclick="logoHandle()"> แสดง logo </button>
<input type="radio" id="female" name="sex">
<label for="female">หญิง</label>
<input type="radio" id="male" name="sex">
<label for="male">ชาย</label><br>
<label for="age">อายุ:</label>&ensp;&ensp;
<input type="number" id="age" min="0" max="120" onclick="this.select()">
<br><br>
<label>การสูบบุหรี่:</label>&nbsp;
<input type="radio" id="non_smoke" name="smoking">
<label for="non_smoke">ไม่สูบ</label>

<input type="radio" id="smoke" name="smoking">
<label for="smoke">สูบ</label>

&ensp;<div class="tooltip">&#10067;
<span class="tooltiptext">สูบบุหรี่ไม่เกิน 1 ปี</span>
</div>
<br>
<label>เป็นเบาหวาน:</label>
<input type="radio" id="non_dm" name="diabetes">
<label for="non_dm">ไม่เป็น</label>
<input type="radio" id="dm" name="diabetes">
<label for="diabetes">เป็น</label>
<br><br>
<label for="sbp">ค่าความดันตัวบน:</label>
<input type="number" id="sbp" min="0" max="999" onclick="this.select()">&ensp;<div class="tooltip">&#10067;
<span class="tooltiptext">คือค่า Systolic Blood Pressure (mmHg) โดยใช้ค่าเฉลี่ยจากการวัด 2 ครั้งที่เวลาต่างกันอย่างน้อย 1 สัปดาห์</span>
</div>
<br>
<label for="choles">โคเลสเตอรอลรวม:</label>
<input type="number" id="choles" min="0" max="999" onclick="this.select()">&ensp;<div class="tooltip">&#10067;
<span class="tooltiptext">(mg/dl) ใช้ผลครั้งล่าสุด</span>
</div>
<br>
<button type="button" onclick="calRisk()"> แสดงผล </button>
<br>


<script>
var DATA = {'dm': {'male': {'non_smoke': {40: {180: {120: 11,
      160: 12,
      200: 13,
      240: 15,
      280: 18},
     160: {120: 7, 160: 8, 200: 9, 240: 11, 280: 13},
     140: {120: 5, 160: 6, 200: 6, 240: 8, 280: 9},
     120: {120: 4, 160: 4, 200: 4, 240: 5, 280: 6},
     100: {120: 2, 160: 3, 200: 3, 240: 4, 280: 4}},
    45: {180: {120: 13, 160: 14, 200: 16, 240: 18, 280: 21},
     160: {120: 9, 160: 10, 200: 11, 240: 13, 280: 16},
     140: {120: 7, 160: 7, 200: 8, 240: 10, 280: 11},
     120: {120: 5, 160: 5, 200: 6, 240: 7, 280: 8},
     100: {120: 3, 160: 4, 200: 4, 240: 5, 280: 6}},
    50: {180: {120: 15, 160: 17, 200: 19, 240: 22, 280: 25},
     160: {120: 11, 160: 13, 200: 14, 240: 16, 280: 19},
     140: {120: 8, 160: 9, 200: 10, 240: 12, 280: 14},
     120: {120: 6, 160: 7, 200: 8, 240: 9, 280: 10},
     100: {120: 4, 160: 5, 200: 6, 240: 6, 280: 8}},
    55: {180: {120: 18, 160: 20, 200: 23, 240: 26, 280: 30},
     160: {120: 14, 160: 15, 200: 17, 240: 20, 280: 23},
     140: {120: 10, 160: 12, 200: 13, 240: 15, 280: 18},
     120: {120: 8, 160: 9, 200: 10, 240: 11, 280: 13},
     100: {120: 6, 160: 7, 200: 7, 240: 9, 280: 10}},
    60: {180: {120: 22, 160: 25, 200: 27, 240: 31, 280: 35},
     160: {120: 17, 160: 19, 200: 21, 240: 24, 280: 28},
     140: {120: 13, 160: 15, 200: 17, 240: 19, 280: 22},
     120: {120: 10, 160: 11, 200: 13, 240: 15, 280: 17},
     100: {120: 8, 160: 9, 200: 10, 240: 11, 280: 13}},
    65: {180: {120: 27, 160: 30, 200: 33, 240: 37, 280: 41},
     160: {120: 21, 160: 24, 200: 26, 240: 30, 280: 33},
     140: {120: 17, 160: 19, 200: 21, 240: 24, 280: 27},
     120: {120: 13, 160: 15, 200: 17, 240: 19, 280: 21},
     100: {120: 10, 160: 12, 200: 13, 240: 15, 280: 17}},
    70: {180: {120: 32, 160: 36, 200: 39, 240: 43, 280: 47},
     160: {120: 27, 160: 29, 200: 32, 240: 36, 280: 40},
     140: {120: 22, 160: 24, 200: 26, 240: 29, 280: 33},
     120: {120: 17, 160: 19, 200: 22, 240: 24, 280: 27},
     100: {120: 14, 160: 16, 200: 17, 240: 19, 280: 22}}},
   'smoke': {40: {180: {120: 19, 160: 22, 200: 25, 240: 29, 280: 35},
     160: {120: 14, 160: 16, 200: 18, 240: 21, 280: 26},
     140: {120: 10, 160: 11, 200: 13, 240: 15, 280: 19},
     120: {120: 7, 160: 8, 200: 9, 240: 11, 280: 14},
     100: {120: 5, 160: 5, 200: 6, 240: 8, 280: 10}},
    45: {180: {120: 22, 160: 25, 200: 28, 240: 33, 280: 38},
     160: {120: 16, 160: 18, 200: 21, 240: 24, 280: 29},
     140: {120: 12, 160: 13, 200: 15, 240: 18, 280: 22},
     120: {120: 8, 160: 9, 200: 11, 240: 13, 280: 16},
     100: {120: 6, 160: 7, 200: 8, 240: 10, 280: 12}},
    50: {180: {120: 25, 160: 28, 200: 32, 240: 36, 280: 42},
     160: {120: 19, 160: 21, 200: 24, 240: 28, 280: 33},
     140: {120: 14, 160: 16, 200: 18, 240: 21, 280: 25},
     120: {120: 10, 160: 12, 200: 13, 240: 16, 280: 19},
     100: {120: 7, 160: 8, 200: 10, 240: 12, 280: 14}},
    55: {180: {120: 28, 160: 31, 200: 35, 240: 40, 280: 46},
     160: {120: 22, 160: 24, 200: 28, 240: 32, 280: 37},
     140: {120: 16, 160: 19, 200: 21, 240: 25, 280: 29},
     120: {120: 12, 160: 14, 200: 16, 240: 19, 280: 22},
     100: {120: 9, 160: 11, 200: 12, 240: 14, 280: 17}},
    60: {180: {120: 32, 160: 35, 200: 40, 240: 44, 280: 50},
     160: {120: 25, 160: 28, 200: 32, 240: 36, 280: 41},
     140: {120: 20, 160: 22, 200: 25, 240: 28, 280: 33},
     120: {120: 15, 160: 17, 200: 19, 240: 22, 280: 26},
     100: {120: 12, 160: 13, 200: 15, 240: 17, 280: 20}},
    65: {180: {120: 36, 160: 40, 200: 44, 240: 49, 280: 54},
     160: {120: 29, 160: 32, 200: 36, 240: 40, 280: 45},
     140: {120: 23, 160: 26, 200: 29, 240: 33, 280: 37},
     120: {120: 19, 160: 21, 200: 23, 240: 26, 280: 30},
     100: {120: 15, 160: 16, 200: 19, 240: 21, 280: 24}},
    70: {180: {120: 41, 160: 45, 200: 49, 240: 54, 280: 59},
     160: {120: 34, 160: 37, 200: 41, 240: 45, 280: 50},
     140: {120: 28, 160: 31, 200: 34, 240: 38, 280: 42},
     120: {120: 23, 160: 25, 200: 28, 240: 31, 280: 35},
     100: {120: 18, 160: 20, 200: 23, 240: 25, 280: 29}}}},
  'female': {'non_smoke': {40: {180: {120: 8,
      160: 9,
      200: 10,
      240: 11,
      280: 12},
     160: {120: 6, 160: 7, 200: 7, 240: 8, 280: 9},
     140: {120: 4, 160: 5, 200: 5, 240: 6, 280: 7},
     120: {120: 3, 160: 3, 200: 4, 240: 4, 280: 5},
     100: {120: 2, 160: 3, 200: 3, 240: 3, 280: 4}},
    45: {180: {120: 10, 160: 11, 200: 12, 240: 13, 280: 15},
     160: {120: 8, 160: 8, 200: 9, 240: 10, 280: 11},
     140: {120: 6, 160: 6, 200: 7, 240: 7, 280: 8},
     120: {120: 4, 160: 5, 200: 5, 240: 6, 280: 6},
     100: {120: 3, 160: 3, 200: 4, 240: 4, 280: 5}},
    50: {180: {120: 12, 160: 13, 200: 14, 240: 16, 280: 17},
     160: {120: 9, 160: 10, 200: 11, 240: 12, 280: 13},
     140: {120: 7, 160: 8, 200: 9, 240: 9, 280: 10},
     120: {120: 6, 160: 6, 200: 7, 240: 7, 280: 8},
     100: {120: 4, 160: 5, 200: 5, 240: 5, 280: 6}},
    55: {180: {120: 15, 160: 16, 200: 17, 240: 19, 280: 20},
     160: {120: 12, 160: 13, 200: 14, 240: 15, 280: 16},
     140: {120: 9, 160: 10, 200: 11, 240: 12, 280: 13},
     120: {120: 7, 160: 8, 200: 8, 240: 9, 280: 10},
     100: {120: 6, 160: 6, 200: 7, 240: 7, 280: 8}},
    60: {180: {120: 19, 160: 20, 200: 21, 240: 22, 280: 24},
     160: {120: 15, 160: 16, 200: 17, 240: 18, 280: 20},
     140: {120: 12, 160: 13, 200: 14, 240: 15, 280: 16},
     120: {120: 10, 160: 10, 200: 11, 240: 12, 280: 13},
     100: {120: 8, 160: 8, 200: 9, 240: 9, 280: 10}},
    65: {180: {120: 23, 160: 24, 200: 25, 240: 27, 280: 28},
     160: {120: 19, 160: 20, 200: 21, 240: 22, 280: 24},
     140: {120: 15, 160: 16, 200: 17, 240: 18, 280: 19},
     120: {120: 13, 160: 13, 200: 14, 240: 15, 280: 16},
     100: {120: 10, 160: 11, 200: 12, 240: 12, 280: 13}},
    70: {180: {120: 28, 160: 29, 200: 30, 240: 32, 280: 33},
     160: {120: 23, 160: 25, 200: 26, 240: 27, 280: 28},
     140: {120: 20, 160: 21, 200: 22, 240: 23, 280: 24},
     120: {120: 17, 160: 17, 200: 18, 240: 19, 280: 20},
     100: {120: 14, 160: 15, 200: 15, 240: 16, 280: 17}}},
   'smoke': {40: {180: {120: 18, 160: 20, 200: 23, 240: 26, 280: 29},
     160: {120: 14, 160: 15, 200: 17, 240: 19, 280: 22},
     140: {120: 10, 160: 11, 200: 13, 240: 15, 280: 17},
     120: {120: 7, 160: 8, 200: 10, 240: 11, 280: 13},
     100: {120: 5, 160: 6, 200: 7, 240: 8, 280: 9}},
    45: {180: {120: 21, 160: 23, 200: 25, 240: 28, 280: 32},
     160: {120: 16, 160: 18, 200: 20, 240: 22, 280: 25},
     140: {120: 12, 160: 13, 200: 15, 240: 17, 280: 19},
     120: {120: 9, 160: 10, 200: 11, 240: 13, 280: 15},
     100: {120: 7, 160: 8, 200: 9, 240: 10, 280: 11}},
    50: {180: {120: 24, 160: 26, 200: 28, 240: 31, 280: 34},
     160: {120: 18, 160: 20, 200: 22, 240: 24, 280: 27},
     140: {120: 14, 160: 16, 200: 17, 240: 19, 280: 21},
     120: {120: 11, 160: 12, 200: 13, 240: 15, 280: 17},
     100: {120: 8, 160: 9, 200: 10, 240: 12, 280: 13}},
    55: {180: {120: 27, 160: 29, 200: 31, 240: 34, 280: 37},
     160: {120: 21, 160: 23, 200: 25, 240: 27, 280: 30},
     140: {120: 17, 160: 18, 200: 20, 240: 22, 280: 24},
     120: {120: 13, 160: 15, 200: 16, 240: 17, 280: 19},
     100: {120: 10, 160: 11, 200: 13, 240: 14, 280: 15}},
    60: {180: {120: 30, 160: 32, 200: 34, 240: 37, 280: 40},
     160: {120: 25, 160: 26, 200: 28, 240: 31, 280: 33},
     140: {120: 20, 160: 21, 200: 23, 240: 25, 280: 27},
     120: {120: 16, 160: 17, 200: 19, 240: 20, 280: 22},
     100: {120: 13, 160: 14, 200: 15, 240: 16, 280: 18}},
    65: {180: {120: 34, 160: 36, 200: 38, 240: 40, 280: 43},
     160: {120: 28, 160: 30, 200: 32, 240: 34, 280: 36},
     140: {120: 24, 160: 25, 200: 27, 240: 28, 280: 30},
     120: {120: 20, 160: 21, 200: 22, 240: 24, 280: 25},
     100: {120: 16, 160: 17, 200: 18, 240: 19, 280: 21}},
    70: {180: {120: 38, 160: 40, 200: 42, 240: 44, 280: 46},
     160: {120: 33, 160: 34, 200: 36, 240: 38, 280: 40},
     140: {120: 28, 160: 29, 200: 31, 240: 32, 280: 34},
     120: {120: 23, 160: 25, 200: 26, 240: 27, 280: 29},
     100: {120: 20, 160: 21, 200: 22, 240: 23, 280: 24}}}}},
 'non_dm': {'male': {'non_smoke': {40: {180: {120: 5,
      160: 6,
      200: 6,
      240: 7,
      280: 8},
     160: {120: 4, 160: 4, 200: 4, 240: 5, 280: 6},
     140: {120: 2, 160: 3, 200: 3, 240: 3, 280: 4},
     120: {120: 2, 160: 2, 200: 2, 240: 2, 280: 3},
     100: {120: 1, 160: 1, 200: 1, 240: 2, 280: 2}},
    45: {180: {120: 7, 160: 7, 200: 8, 240: 9, 280: 10},
     160: {120: 5, 160: 5, 200: 6, 240: 6, 280: 8},
     140: {120: 3, 160: 4, 200: 4, 240: 5, 280: 5},
     120: {120: 2, 160: 3, 200: 3, 240: 3, 280: 4},
     100: {120: 2, 160: 2, 200: 2, 240: 2, 280: 3}},
    50: {180: {120: 9, 160: 9, 200: 10, 240: 12, 280: 13},
     160: {120: 6, 160: 7, 200: 8, 240: 9, 280: 10},
     140: {120: 4, 160: 5, 200: 6, 240: 6, 280: 7},
     120: {120: 3, 160: 4, 200: 4, 240: 5, 280: 5},
     100: {120: 2, 160: 3, 200: 3, 240: 3, 280: 4}},
    55: {180: {120: 11, 160: 12, 200: 13, 240: 15, 280: 17},
     160: {120: 8, 160: 9, 200: 10, 240: 11, 280: 13},
     140: {120: 6, 160: 7, 200: 8, 240: 9, 280: 10},
     120: {120: 5, 160: 5, 200: 6, 240: 6, 280: 7},
     100: {120: 3, 160: 4, 200: 4, 240: 5, 280: 5}},
    60: {180: {120: 14, 160: 16, 200: 17, 240: 19, 280: 22},
     160: {120: 11, 160: 12, 200: 13, 240: 15, 280: 17},
     140: {120: 8, 160: 9, 200: 10, 240: 12, 280: 13},
     120: {120: 6, 160: 7, 200: 8, 240: 9, 280: 10},
     100: {120: 5, 160: 5, 200: 6, 240: 7, 280: 8}},
    65: {180: {120: 19, 160: 20, 200: 22, 240: 25, 280: 28},
     160: {120: 15, 160: 16, 200: 18, 240: 20, 280: 12},
     140: {120: 11, 160: 13, 200: 14, 240: 16, 280: 18},
     120: {120: 9, 160: 10, 200: 11, 240: 12, 280: 14},
     100: {120: 7, 160: 8, 200: 9, 240: 10, 280: 11}},
    70: {180: {120: 24, 160: 26, 200: 29, 240: 32, 280: 35},
     160: {120: 19, 160: 21, 200: 23, 240: 26, 280: 29},
     140: {120: 16, 160: 17, 200: 19, 240: 21, 280: 23},
     120: {120: 13, 160: 14, 200: 15, 240: 17, 280: 19},
     100: {120: 10, 160: 11, 200: 12, 240: 14, 280: 15}}},
   'smoke': {40: {180: {120: 9, 160: 10, 200: 12, 240: 14, 280: 17},
     160: {120: 6, 160: 7, 200: 8, 240: 10, 280: 12},
     140: {120: 4, 160: 5, 200: 6, 240: 7, 280: 8},
     120: {120: 3, 160: 3, 200: 4, 240: 5, 280: 6},
     100: {120: 2, 160: 2, 200: 3, 240: 3, 280: 4}},
    45: {180: {120: 11, 160: 13, 200: 14, 240: 17, 280: 20},
     160: {120: 8, 160: 9, 200: 10, 240: 12, 280: 14},
     140: {120: 6, 160: 6, 200: 7, 240: 9, 280: 10},
     120: {120: 4, 160: 5, 200: 5, 240: 6, 280: 8},
     100: {120: 3, 160: 3, 200: 4, 240: 4, 280: 5}},
    50: {180: {120: 14, 160: 15, 200: 18, 240: 20, 280: 23},
     160: {120: 10, 160: 11, 200: 13, 240: 15, 280: 18},
     140: {120: 7, 160: 8, 200: 10, 240: 11, 280: 13},
     120: {120: 5, 160: 6, 200: 7, 240: 8, 280: 10},
     100: {120: 4, 160: 4, 200: 5, 240: 6, 280: 7}},
    55: {180: {120: 17, 160: 19, 200: 21, 240: 24, 280: 28},
     160: {120: 13, 160: 14, 200: 16, 240: 18, 280: 21},
     140: {120: 10, 160: 11, 200: 12, 240: 14, 280: 16},
     120: {120: 7, 160: 8, 200: 9, 240: 10, 280: 12},
     100: {120: 5, 160: 6, 200: 7, 240: 8, 280: 9}},
    60: {180: {120: 21, 160: 23, 200: 26, 240: 29, 280: 33},
     160: {120: 16, 160: 18, 200: 20, 240: 23, 280: 26},
     140: {120: 12, 160: 14, 200: 15, 240: 18, 280: 20},
     120: {120: 9, 160: 11, 200: 12, 240: 14, 280: 16},
     100: {120: 7, 160: 8, 200: 9, 240: 10, 280: 12}},
    65: {180: {120: 25, 160: 28, 200: 31, 240: 34, 280: 38},
     160: {120: 20, 160: 22, 200: 25, 240: 27, 280: 31},
     140: {120: 16, 160: 18, 200: 20, 240: 22, 280: 25},
     120: {120: 12, 160: 14, 200: 15, 240: 17, 280: 20},
     100: {120: 10, 160: 11, 200: 12, 240: 14, 280: 16}},
    70: {180: {120: 30, 160: 33, 200: 36, 240: 40, 280: 44},
     160: {120: 25, 160: 27, 200: 30, 240: 33, 280: 37},
     140: {120: 20, 160: 22, 200: 25, 240: 27, 280: 30},
     120: {120: 16, 160: 18, 200: 20, 240: 22, 280: 25},
     100: {120: 13, 160: 15, 200: 16, 240: 18, 280: 20}}}},
  'female': {'non_smoke': {40: {180: {120: 4, 160: 4, 200: 4, 240: 5, 280: 5},
     160: {120: 3, 160: 3, 200: 3, 240: 3, 280: 4},
     140: {120: 2, 160: 2, 200: 2, 240: 2, 280: 3},
     120: {120: 1, 160: 1, 200: 2, 240: 2, 280: 2},
     100: {120: 1, 160: 1, 200: 1, 240: 1, 280: 1}},
    45: {180: {120: 5, 160: 5, 200: 6, 240: 6, 280: 7},
     160: {120: 4, 160: 4, 200: 4, 240: 5, 280: 5},
     140: {120: 3, 160: 3, 200: 3, 240: 3, 280: 4},
     120: {120: 2, 160: 2, 200: 2, 240: 2, 280: 3},
     100: {120: 1, 160: 2, 200: 2, 240: 2, 280: 2}},
    50: {180: {120: 6, 160: 7, 200: 7, 240: 8, 280: 8},
     160: {120: 5, 160: 5, 200: 5, 240: 6, 280: 6},
     140: {120: 4, 160: 4, 200: 4, 240: 5, 280: 5},
     120: {120: 3, 160: 3, 200: 3, 240: 3, 280: 4},
     100: {120: 2, 160: 2, 200: 2, 240: 3, 280: 3}},
    55: {180: {120: 8, 160: 9, 200: 9, 240: 10, 280: 11},
     160: {120: 6, 160: 7, 200: 7, 240: 8, 280: 8},
     140: {120: 5, 160: 5, 200: 6, 240: 6, 280: 7},
     120: {120: 4, 160: 4, 200: 4, 240: 5, 280: 5},
     100: {120: 3, 160: 3, 200: 3, 240: 4, 280: 4}},
    60: {180: {120: 11, 160: 11, 200: 12, 240: 13, 280: 14},
     160: {120: 9, 160: 9, 200: 10, 240: 10, 280: 11},
     140: {120: 7, 160: 7, 200: 8, 240: 8, 280: 9},
     120: {120: 5, 160: 6, 200: 6, 240: 7, 280: 7},
     100: {120: 4, 160: 5, 200: 5, 240: 5, 280: 6}},
    65: {180: {120: 14, 160: 15, 200: 16, 240: 16, 280: 17},
     160: {120: 12, 160: 12, 200: 13, 240: 13, 280: 14},
     140: {120: 9, 160: 10, 200: 10, 240: 11, 280: 12},
     120: {120: 8, 160: 8, 200: 9, 240: 9, 280: 10},
     100: {120: 6, 160: 7, 200: 7, 240: 7, 280: 8}},
    70: {180: {120: 18, 160: 19, 200: 20, 240: 21, 280: 22},
     160: {120: 16, 160: 16, 200: 17, 240: 18, 280: 18},
     140: {120: 13, 160: 14, 200: 14, 240: 15, 280: 15},
     120: {120: 11, 160: 11, 200: 12, 240: 12, 280: 13},
     100: {120: 9, 160: 9, 200: 10, 240: 10, 280: 11}}},
   'smoke': {40: {180: {120: 8, 160: 9, 200: 10, 240: 11, 280: 12},
     160: {120: 6, 160: 7, 200: 7, 240: 8, 280: 9},
     140: {120: 4, 160: 5, 200: 5, 240: 6, 280: 7},
     120: {120: 3, 160: 3, 200: 4, 240: 4, 280: 5},
     100: {120: 2, 160: 3, 200: 3, 240: 3, 280: 4}},
    45: {180: {120: 10, 160: 11, 200: 12, 240: 13, 280: 14},
     160: {120: 7, 160: 8, 200: 9, 240: 10, 280: 11},
     140: {120: 5, 160: 6, 200: 7, 240: 7, 280: 8},
     120: {120: 4, 160: 4, 200: 5, 240: 6, 280: 6},
     100: {120: 3, 160: 3, 200: 4, 240: 4, 280: 5}},
    50: {180: {120: 12, 160: 13, 200: 14, 240: 15, 280: 17},
     160: {120: 9, 160: 10, 200: 11, 240: 12, 280: 13},
     140: {120: 7, 160: 8, 200: 8, 240: 9, 280: 10},
     120: {120: 5, 160: 6, 200: 6, 240: 7, 280: 8},
     100: {120: 4, 160: 4, 200: 5, 240: 5, 280: 6}},
    55: {180: {120: 15, 160: 16, 200: 17, 240: 18, 280: 20},
     160: {120: 11, 160: 12, 200: 13, 240: 14, 280: 16},
     140: {120: 9, 160: 10, 200: 10, 240: 11, 280: 12},
     120: {120: 7, 160: 8, 200: 8, 240: 9, 280: 10},
     100: {120: 5, 160: 6, 200: 6, 240: 7, 280: 8}},
    60: {180: {120: 18, 160: 19, 200: 20, 240: 21, 280: 23},
     160: {120: 14, 160: 15, 200: 16, 240: 17, 280: 19},
     140: {120: 11, 160: 12, 200: 13, 240: 14, 280: 15},
     120: {120: 9, 160: 10, 200: 10, 240: 11, 280: 12},
     100: {120: 7, 160: 8, 200: 8, 240: 9, 280: 10}},
    65: {180: {120: 21, 160: 23, 200: 24, 240: 25, 280: 27},
     160: {120: 18, 160: 19, 200: 20, 240: 21, 280: 22},
     140: {120: 15, 160: 15, 200: 16, 240: 17, 280: 18},
     120: {120: 12, 160: 13, 200: 13, 240: 14, 280: 15},
     100: {120: 10, 160: 10, 200: 11, 240: 12, 280: 12}},
    70: {180: {120: 26, 160: 27, 200: 28, 240: 30, 280: 31},
     160: {120: 22, 160: 23, 200: 24, 240: 25, 280: 26},
     140: {120: 18, 160: 19, 200: 20, 240: 21, 280: 22},
     120: {120: 15, 160: 16, 200: 17, 240: 18, 280: 19},
     100: {120: 13, 160: 13, 200: 14, 240: 15, 280: 16}}}}}};
     
//var riskDesc = {1:"<10%", 2:"10 - <20%", 3:"20 - <30%" , 4:"30 - <40%", 5:"&ge;40%"};
function roundAge(age) {
  let x = Number(age);
  if (x < 45) {
    return 40;
  }
  else if (x < 50) {
    return 45;
  }
  else if (x < 55) {
    return 50;
  }
  else if (x < 60) {
    return 55;
  }
  else if (x < 65) {
    return 60;
  }
  else if (x < 70) {
    return 65;
  }
  else {
    return 70;
  }
}

function roundSBP(sbp) {
  let x = Number(sbp);
  if (x < 120) {
    return 100;
  }
  else if (x < 140) {
    return 120;
  }
  else if (x < 160) {
    return 140;
  }
  else if (x < 180) {
    return 160;
  }
  else {
    return 180;
  }
} 

function roundCholes(cholesterol) {
  let x = Number(cholesterol);
  if (x < 154.7) {
    return 120;
  }
  else if (x < 193.3){
    return 160;
  }
  else if (x < 232.0){
    return 200;
  }
  else if (x < 270.7){
    return 240;
  }
  else {
    return 280;
  }
}

function calColor(percent) {
  let x = Number(percent);
  if (x < 5) {
    return 1;
  }
  else if (x < 10) {
    return 2;
  }
  else if (x < 20) {
    return 3;
  }
  else if (x < 30) {
    return 4;
  }
  else {
    return 5;
  }
}
   
function calRisk() {  

  let errors = [];
  let sex = "female";
  if (document.getElementById("male").checked) {
    console.log("ISMALE");
    sex = "male";
  } 
  else if (document.getElementById("female").checked) {
    console.log("ISFEMALE");
    sex = "female";
  } 
  else {
    console.log("error: No sex");
    //document.getElementById("out").innerHTML = "Error: No sex data";
    //document.getElementById('out').className = "terminale";
    //return 0;
    errors.push("ไม่มีข้อมูลเพศ");
  }
  if (document.getElementById("age").value == "") {
    console.log("error: No age data")
    //document.getElementById("out").innerHTML = "Error: Incorrect age data";
    //document.getElementById('out').className = "terminale";
    //return 0;
    errors.push("ข้อมูลอายุไม่ถูกต้อง");
  }

  let smoke_ness = "non_smoke";
  if (document.getElementById("smoke").checked) {
    console.log("smoke");
    smoke_ness = "smoke";
  }
  else if (document.getElementById("non_smoke").checked) {
    console.log("non_smoke");
    smoke_ness = "non_smoke";
  } 
  else {
    errors.push("ไม่มีข้อมูลสูบบุหรี่");
  }
  
  let dm_ness = "dm";
  if (document.getElementById("dm").checked) {
    console.log("diabetes");
    dm_ness = "dm";
  }
  else if (document.getElementById("non_dm").checked) {
    console.log("non_diabetes");
    dm_ness = "non_dm";
  }
  else {
    errors.push("ไม่มีข้อมูลเป็นเบาหวาน");
  }
  

  if (document.getElementById("sbp").value == "") {
    console.log("error: No SBP data")
    //document.getElementById("out").innerHTML = "Error: Incorrect SBP data";
    //document.getElementById('out').className = "terminale";
    //return 0;
    errors.push("ข้อมูลความดันตัวบนไม่ถูกต้อง");
  }
  if (document.getElementById("choles").value == "") {
    console.log("error: No choles data")
    //document.getElementById("out").innerHTML = "Error: Incorrect cholesterol data";
    //document.getElementById('out').className = "terminale";
    //return 0;
    errors.push("ข้อมูลโคเลสเตอรอลไม่ถูกต้อง");
  }
  let age = roundAge(document.getElementById("age").value); 
  let sbp = roundSBP(document.getElementById("sbp").value); 
  let choles = roundCholes(document.getElementById("choles").value);
  console.log(dm_ness, sex, smoke_ness, age, sbp, choles);
  let res = DATA[dm_ness][sex][smoke_ness][age][sbp][choles];
  console.log(res);
  console.log(errors);
  if (errors.length == 0 ) {  
    document.getElementById("out").innerHTML = "มีโอกาสเสี่ยง <br>" + res+"% ที่จะเป็นโรคกล้ามเนื้อหัวใจตายและโรคอัมพฤกษ์ อัมพาต ใน 10 ปีข้างหน้า ";
    document.getElementById('out').className = "terminal" + calColor(res);
  //return 1;
  }
  else {
    document.getElementById("out").innerHTML = "เกิดข้อผิดพลาดเนื่องจาก<br>"+errors.join('<br>');
    document.getElementById('out').className = "terminale";
  }
  
  

}   
//console.log(roundAge('aaa'));

function logoHandle() {

  if (document.getElementById("logo").className == "hide") {
    document.getElementById("logo").className = "show";
    document.getElementById("logobutton").textContent = "ซ่อน logo";
  }
  else {
    document.getElementById("logo").className = "hide";
    document.getElementById("logobutton").textContent = "แสดง logo";
  }
}

</script>
</body>
</html>
